{"version":3,"file":"ng-web-apis-common.js","sources":["@ng-web-apis/common/tokens/window.ts","@ng-web-apis/common/tokens/animation-frame.ts","@ng-web-apis/common/tokens/caches.ts","@ng-web-apis/common/tokens/crypto.ts","@ng-web-apis/common/tokens/css.ts","@ng-web-apis/common/tokens/history.ts","@ng-web-apis/common/tokens/local-storage.ts","@ng-web-apis/common/tokens/location.ts","@ng-web-apis/common/tokens/navigator.ts","@ng-web-apis/common/tokens/media-devices.ts","@ng-web-apis/common/tokens/network-information.ts","@ng-web-apis/common/tokens/page-visibility.ts","@ng-web-apis/common/tokens/performance.ts","@ng-web-apis/common/tokens/session-storage.ts","@ng-web-apis/common/tokens/speech-recognition.ts","@ng-web-apis/common/tokens/speech-synthesis.ts","@ng-web-apis/common/tokens/user-agent.ts"],"names":[],"mappings":"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,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,ACRA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,ACRA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,ACRA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,ACRA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,ACRA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,ACTA,AAKA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AACA,ACnBA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,ACRA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,ACRA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAAA,ACZA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,ACRA,AAGA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA","sourcesContent":["import {DOCUMENT} from '@angular/common';\r\nimport {inject, InjectionToken} from '@angular/core';\r\n\r\nexport const WINDOW = new InjectionToken<Window>(\r\n    'An abstraction over global window object',\r\n    {\r\n        factory: () => {\r\n            const {defaultView} = inject(DOCUMENT);\r\n\r\n            if (!defaultView) {\r\n                throw new Error('Window is not available');\r\n            }\r\n\r\n            return defaultView;\r\n        },\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {Observable} from 'rxjs';\r\nimport {share} from 'rxjs/operators';\r\nimport {WINDOW} from './window';\r\n\r\nexport const ANIMATION_FRAME = new InjectionToken<Observable<DOMHighResTimeStamp>>(\r\n    'Shared Observable based on `window.requestAnimationFrame`',\r\n    {\r\n        factory: () => {\r\n            const {requestAnimationFrame, cancelAnimationFrame} = inject(WINDOW);\r\n            const animationFrame$ = new Observable<DOMHighResTimeStamp>(subscriber => {\r\n                let id = NaN;\r\n                const callback = (timestamp: DOMHighResTimeStamp) => {\r\n                    subscriber.next(timestamp);\r\n                    id = requestAnimationFrame(callback);\r\n                };\r\n\r\n                id = requestAnimationFrame(callback);\r\n\r\n                return () => {\r\n                    cancelAnimationFrame(id);\r\n                };\r\n            });\r\n\r\n            return animationFrame$.pipe(share());\r\n        },\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\nexport const CACHES = new InjectionToken<CacheStorage>(\r\n    'An abstraction over window.caches object',\r\n    {\r\n        factory: () => inject(WINDOW).caches,\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\nexport const CRYPTO = new InjectionToken<Crypto>(\r\n    'An abstraction over window.crypto object',\r\n    {\r\n        factory: () => inject(WINDOW).crypto,\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\n/**\r\n * Use Window['CSS'], this is a workaround to support Angular 6+\r\n */\r\ninterface Css {\r\n    escape(ident: string): string;\r\n    supports(property: string, value: string): boolean;\r\n    supports(conditionText: string): boolean;\r\n}\r\n\r\nexport const CSS = new InjectionToken<Css>('An abstraction over window.CSS object', {\r\n    factory: () =>\r\n        (inject(WINDOW) as any).CSS || {\r\n            escape: v => v,\r\n            supports: () => false,\r\n        },\r\n});\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\nexport const HISTORY = new InjectionToken<History>(\r\n    'An abstraction over window.history object',\r\n    {\r\n        factory: () => inject(WINDOW).history,\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\nexport const LOCAL_STORAGE = new InjectionToken<Storage>(\r\n    'An abstraction over window.localStorage object',\r\n    {\r\n        factory: () => inject(WINDOW).localStorage,\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\nexport const LOCATION = new InjectionToken<Location>(\r\n    'An abstraction over window.location object',\r\n    {\r\n        factory: () => inject(WINDOW).location,\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\nexport const NAVIGATOR = new InjectionToken<Navigator>(\r\n    'An abstraction over window.navigator object',\r\n    {\r\n        factory: () => inject(WINDOW).navigator,\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {NAVIGATOR} from './navigator';\r\n\r\nexport const MEDIA_DEVICES = new InjectionToken<MediaDevices>(\r\n    'An abstraction over window.navigator.mediaDevices object',\r\n    {\r\n        factory: () => inject(NAVIGATOR).mediaDevices,\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {NAVIGATOR} from './navigator';\r\n\r\nexport const NETWORK_INFORMATION = new InjectionToken<\r\n    // @ts-ignore\r\n    typeof navigator['connection'] | null\r\n>('An abstraction over window.navigator.connection object', {\r\n    // @ts-ignore\r\n    factory: () => inject(NAVIGATOR).connection || null,\r\n});\r\n","import {DOCUMENT} from '@angular/common';\r\nimport {inject, InjectionToken} from '@angular/core';\r\nimport {fromEvent, Observable} from 'rxjs';\r\nimport {distinctUntilChanged, map, share, startWith} from 'rxjs/operators';\r\n\r\nexport const PAGE_VISIBILITY = new InjectionToken<Observable<boolean>>(\r\n    'Shared Observable based on `document visibility changed`',\r\n    {\r\n        factory: () => {\r\n            const documentRef = inject(DOCUMENT);\r\n\r\n            return fromEvent(documentRef, 'visibilitychange').pipe(\r\n                startWith(0),\r\n                map(() => documentRef.visibilityState !== 'hidden'),\r\n                distinctUntilChanged(),\r\n                share(),\r\n            );\r\n        },\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\nexport const PERFORMANCE = new InjectionToken<Performance>(\r\n    'An abstraction over window.performance object',\r\n    {\r\n        factory: () => inject(WINDOW).performance,\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\nexport const SESSION_STORAGE = new InjectionToken<Storage>(\r\n    'An abstraction over window.sessionStorage object',\r\n    {\r\n        factory: () => inject(WINDOW).sessionStorage,\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\nexport const SPEECH_RECOGNITION = new InjectionToken<\r\n    // @ts-ignore\r\n    typeof window['speechRecognition'] | null\r\n>('An abstraction over SpeechRecognition class', {\r\n    factory: () => {\r\n        const windowRef: any = inject(WINDOW);\r\n\r\n        return windowRef.speechRecognition || windowRef.webkitSpeechRecognition || null;\r\n    },\r\n});\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {WINDOW} from './window';\r\n\r\nexport const SPEECH_SYNTHESIS = new InjectionToken<SpeechSynthesis>(\r\n    'An abstraction over window.speechSynthesis object',\r\n    {\r\n        factory: () => inject(WINDOW).speechSynthesis,\r\n    },\r\n);\r\n","import {inject, InjectionToken} from '@angular/core';\r\nimport {NAVIGATOR} from './navigator';\r\n\r\nexport const USER_AGENT = new InjectionToken<string>(\r\n    'An abstraction over window.navigator.userAgent object',\r\n    {\r\n        factory: () => inject(NAVIGATOR).userAgent,\r\n    },\r\n);\r\n"]}